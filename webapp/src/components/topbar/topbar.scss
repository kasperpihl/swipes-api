@import '../global-styles/vars';
@import '../global-styles/mixins';

$topbarSize: 54px;
$searchbarSize: 90px;
$fullscreenTopbarSize: 70px;

.sw-topbar {
	@include size(100%, $searchbarSize);
	user-select: none;
  -webkit-app-region: drag;
	position: absolute;
	left: 0;
	top: 0;
	z-index: 9999;
	box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
	transform: translateY(calc((#{$searchbarSize} - #{$topbarSize}) * -1));
	transition: .3s ease-in-out;

	@include flex(flex-end, center);

	&__content {
		@include size(100%, $topbarSize);
		color: white;
		transition: .3s ease-in-out;
		padding-left: 0px;
		@include flex(center, space-between);
		will-change: transform;
	}

	&__searchbar {
		position: absolute;
		height: $searchbarSize;
		width: calc(100% - 2% - 20px);
		top: 0;
		left: calc(2% + 20px);
		opacity: 0;
		visibility: hidden;
		transition: opacity .2s, visibility 0s .2s;

		input {
			width: 100%;
			font-weight: 300;
			color: #fff;
			line-height: $searchbarSize;
			font-size: 24px;

			&::-webkit-input-placeholder {
				font-weight: 300;
			  color: rgba(255,255,255,.7);
			}
		}
	}

	&__info {
		width: 200px;
		height: $topbarSize;
		position: relative;
		transition: opacity .1s .4s, visibility 0s 0s;

		&__icon {
			@include size(50px, 50px);
			@include flex(center, center);

			img {
				@include size(18px, 18px);
			}
		}

		&__title {
			@include flex(center, flex-start);
	    font-size: 12px;
	    font-weight: bold;
	    height: $topbarSize;
	    letter-spacing: 2.6px;
	    padding: 0 30px;
	    text-transform: uppercase;
			transition: .3s;
			transition-delay: .2s;
		}

		&__tile-title {
			@include flex(center, flex-start);
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			padding: 0 30px;
			visibility: hidden;
			opacity: 0;
			transition: opacity .3s, visibility 0s;

			&--title {
	      font-size: 21px;
	      line-height: 21px;
	      font-weight: 900;
	      color: white;

				&::first-letter {
					text-transform: uppercase;
				}

	      &:hover {
	        text-decoration: underline;
	      }
	    }

	    &--seperator {
	      @include size(1px, 16px);
	      background-color: $deepBlue-20;
	      margin: 0 9px;
	      margin-top: 2px;
	    }

	    &--subtitle {
	      color: white;
	      letter-spacing: .3px;
	      font-size: 9px;
	      font-weight: 700;
	      text-transform: uppercase;
	    }
		}
	}

	&__actions {
		@include flex(center, center);
	}

	&__button--find{
		opacity: 1;
		visibility: visible;
		transition: opacity .1s .4s, visibility 0s;
	}

	&__button--add {
		transition: .3s ease-in-out;
	}

	&__button {
		@include size(30px, 30px);
		@include flex(center, center);
		background-color: rgba(255,255,255,.2);
		border-radius: 50%;
		margin-right: 12px;

		&:hover {
			background-color: rgba(255,255,255,.4);
		}

		svg g {
			fill: white;
		}
	}

	&--find {
		transform: translateY(0);
		transition: .3s ease-in-out;
	}

	&--find & {

		&__content {
			@include size(100%, $searchbarSize);
			transition: .3s ease-in-out;
		}

		&__info {
			opacity: 0;
			visibility: hidden;
			transition: opacity .1s ease-in-out, visibility 0s .3s;
		}

		&__button--find {
			// transform: translateY(-30%);
			opacity: 0;
			visibility: hidden;
			transition: opacity .1s ease-in-out, transform .3s ease-in-out, visibility 0s .3s;
		}

		&__searchbar {
			opacity: 1;
			visibility: visible;
			transition: opacity .2s .3s, visibility 0s;
		}

		&__button {

			&--add {
				transform: rotate(45deg);
				transition: .3s ease-in-out;
			}
		}
	}

	&--fullscreen {
		transform: translateY(calc((#{$searchbarSize} - #{$fullscreenTopbarSize}) * -1));
		transition: .3s ease-in-out;
	}

	&--fullscreen & {

		&__info {

			&__title {
				opacity: 0;
				transition: .3s;
			}

			&__tile-title {
				visibility: visible;
				opacity: 1;
				transition: opacity .3s .2s, visibility 0s 0s;
			}
		}

		&__content {
			@include size(100%, $fullscreenTopbarSize);
			transition: .3s ease-in-out;
		}

		&__button {

			&--add {
				transform: rotate(45deg);
				transition: .3s ease-in-out;
			}
		}
	}
}
