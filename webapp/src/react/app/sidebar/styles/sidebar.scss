@import '~styles/_vars.scss';
@import '~styles/_mixins.scss';

$sidebarWidth: 60px;

.sidebar {
  $b: &;
  @include flex(center, space-between, column);
  @include size($sidebarWidth, 100%);
  background-color: #FCFCFC;
  flex: none;
  padding-top: 30px;
  padding-bottom: 22px;
  position: relative;

  &:after {
    @include size(1px, 100%);
    background-color: $deepBlue-10;
    content: '';
    position: absolute;
    right: 0; top: 0;
  }

  &__top-section {
    @include size(100%, auto);
    @include flex(flex-start, center);
  }

  &__notification {
    @include flex();
    @include font(9px, $bg, 500);
    height: 12px;
    min-width: 12px;
    max-width: 30px;
    background: $deepBlue-40;
    position: absolute;
    left: 55%; top: 50%;
    padding: 0 3px;
    padding-bottom: 1px;
    border-radius: 20px;
    pointer-events: none;
    transform: translateY(-110%);
    animation: newNotification 1s ease forwards;

    @keyframes newNotification {
      50% {
        background-color: $red-color;
      }
    }
  }

  &__item {
    @include size($sidebarWidth);
    @include flex();
    position: relative;

    &:before, &:after {
      content: '';
      @include size(4px, 40px);
      position: absolute;
      top: 10px;
      background-color: $blue-100;
      transition: -webkit-clip-path .25s ease, width .15s ease;
    }

    &:before {
      left: 0;
      -webkit-clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
    }

    &:after {
      right: 1px;
      -webkit-clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
    }

    &:hover {
      #{$b}__icon {
        @include svg-color($deepBlue-60);
        filter: grayscale(0%);
      }

      #{$b}__notification {
        background-color: $deepBlue-60;
      }
    }

    &--active {
      #{$b}__icon {
        @include svg-color($deepBlue-90);
        filter: grayscale(0%);
      }

      &:before {
        -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        transition: .25s ease;
      }

      #{$b}__notification {
        background-color: $deepBlue-90;
      }

      &:hover {
        &:before {
          @include size(6px, 40px);
          transition: .15s ease;
        }
      }
    }

    &--secondary-active {
      #{$b}__icon {
        @include svg-color($deepBlue-90);
        filter: grayscale(0%);
      }

      &:after {
        -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        transition: .25s ease;
      }

      &:hover {
        &:after {
          @include size(6px, 40px);
          transition: .15s ease;
        }
      }
    }
  }

  &__image {
    @include size(32px);
    border-radius: 50%;
    pointer-events: none;
  }

  &__icon {
    @include size(24px);
    @include svg-color($deepBlue-40);
    pointer-events: none;
    filter: grayscale(100%);
  }
}
