@import '~styles/_vars.scss';
@import '~styles/_mixins.scss';

// ======================================================
// Block
// ======================================================

.profile {
  @include size(100%, auto);
  @include flexContainer('row', center, top);
  padding-top: 99px;
}

.profile-header {
  $b: &;
  $flexIgnoreList: '#{$b}__profile-image';

  @include size(100%, auto);
  @include flexContainer('row', left, stretch, $selectorsToIgnoreFlex: $flexIgnoreList);
  margin-bottom: calc(81px - 33px);
}

.profile-form {
  @include size(100%, auto);
}

// ======================================================
// Elements
// ======================================================

// wrappers

.profile {

  &__wrapper {
    @include size(432px, auto);
  }

  &__edit-button {
    @include size(calc((100% - 432px) / 2), auto);
    @include flexContainer('row', right, top);
    @include font(12px, $deepBlue-30, 18px, 500);
    position: absolute;
    right: 0;
    padding-right: 60px;
  }
}

// header
.profile-header {

  &__profile-image {
    @include size(72px);
    @include flexContainer('row', center, center);
    background-color: $deepBlue-5;
    border-radius: 50%;
    margin-right: 30px;
    overflow: hidden;

    img {
      @include size(72px);
      border-radius: 50%;
    }
  }

  &__form {
    @include size(100%);
    @include flexContainer('column');
    padding-left: 15px;
  }

  &__input {
    @include size(100%, 36px);
    @include font(27px, $deepBlue-100, 36px, 800);

    &::-webkit-input-placeholder {
      @include font(27px, $deepBlue-30, 36px, 800);
    }
  }
}

// Form

.profile-form {
  $b: &;

  &__row {
    $flexIgnoreList: '#{$b}__title';

    @include size(100%, auto);
    @include flexContainer('row', left, top, $selectorsToIgnoreFlex: $flexIgnoreList);
    padding-top: 33px;
  }

  &__title {
    @include size(102px, 36px);
    @include flexContainer('row', right, center);
    @include font(11px, $deepBlue-100, 18px, bold);
    padding-right: 30px;
  }

  &__input {
    @include size(100%, 36px);
    @include font(12px, $deepBlue-100, 18px);
    background-color: $deepBlue-5;
    border-radius: 3px;
    padding: 0 15px;
    transition: .2s ease;

    &::-webkit-input-placeholder {
      @include font(12px, $deepBlue-30, 18);
    }

    &:disabled {
      background-color: transparent;
      transition: .2s ease;
    }
  }

  &__textarea {
    @include size(100%, auto);
    @include font(12px, $deepBlue-100, 18px);
    box-sizing: content-box;
    background-color: $deepBlue-5;
    border-radius: 3px;
    padding: 9px 15px;
    padding-bottom: 33px;
    resize: none;
    cursor: text;
    transition: .2s ease;

    &::-webkit-input-placeholder {
      @include font(12px, $deepBlue-30, 18);
    }

    &:focus {
      outline: none;
    }

    &:disabled {
      background-color: transparent;
      transition: .2s ease;
    }
  }

  &__counter {
    position: absolute;
    right: 15px; bottom: 9px;
    @include font(11px, $deepBlue-30, 18px, bold);
    transition: .2s ease;
  }
}

// ======================================================
// Modifiers
// ======================================================

.profile-form {

  &__counter {

    &--limit {
      @include font($c: $red-100);
    }
  }
}

.profile {

  &:not(#{&}--editing) {
    .profile-form__counter {
      opacity: 0;
      transition: .2s ease;
    }
  }

  &--editing {
    .profile-form__input {

      &:disabled {
        background-color: $deepBlue-5;
      }
    }

    .profile-header__svg {
      @include size(24px);
      @include svg-color($deepBlue-80);
    }

    .profile-header__upload-overlay {
      @include size(100%);
      @include flexContainer('row', center, center);
      border-radius: 50%;
      background-color: rgba($deepBlue-100, .6);
      position: absolute;
      left: 0; top: 0;

      .profile-header__svg {
        @include size(24px);
        @include svg-color(white);
      }
    }
  }
}

// ======================================================
// Hover
// ======================================================

.profile {

  &__edit-button:hover {
    @include font($c: $blue-100);
  }
}
