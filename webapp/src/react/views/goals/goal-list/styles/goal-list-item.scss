@import '~styles/_vars.scss';
@import '~styles/_mixins.scss';

$contHeight: 79px;


// ======================================================
// Block
// ======================================================

.goal-list-item {
  $b: &;
  $flexIgnoreList: '#{$b}__indicator', '#{$b}__assigning';

  @include size(100%, $contHeight);
  @include flexContainer('row', left, center, $selectorsToIgnoreFlex: $flexIgnoreList);
  border-bottom: 1px solid $deepBlue-6;
}

// ======================================================
// Elements
// ======================================================

.goal-list-item {

  &__indicator {
    @include size(42px, 100%);

    &:after {
      @include size(6px);
      @include centerAbsolute();
      background-color: $deepBlue-20;
      border-radius: 50%;
      content: '';
    }
  }

  &__content {
    @include size(100%);
    @include flexContainer('column', left, center);
    @include heightSpecifications($contHeight, auto);
  }

  &__title {
    @include size(calc(100% - 50px), auto);
    @include font(17px, $deepBlue-80, 24px);
    @include truncateString();
    transition: color .1s ease;
  }

  &__subtitle {
    @include size(calc(100% - 50px), 30px);
    @include flex(center, flex-start);
    @include flexContainer('row', left, center);
    overflow: hidden;
  }

  &__label {
    @include size(100%, 20px);
    @include font(12px, $deepBlue-50, 15px, 500);
    @include truncateString();
    letter-spacing: .5px;
    margin-top: 3px;
    transition: .25s ease;
  }

  &__assigning {
    @include size(auto, 30px);
  }
}

// progress-bar

.goal-list-item {
  $b: &;

  .progress-bar {
    @include size(100%, 20px);
    @include flexContainer('row', left, center);
    background-color: $bg;
    left: 1px; bottom: -20px;
    position: absolute;
    transition: .2s ease;

    & > * {
      opacity: 0;
      transition: .2s ease;
    }

    &__frame {
      @include size(180px, 9px);
      border: 1px solid $deepBlue-20;
      border-radius: 100px;
    }

    &__fill {
      @include size(initial, 5px);
      @include widthSpecifications(3%, 176px);
      background-color: $deepBlue-100;
      border-radius: 100px;
      margin-top: 1px;
      margin-left: 1px;
    }

    &__status {
      @include font(12px, $deepBlue-60);
      margin-left: 18px;
    }
  }
}


// ======================================================
// Modifiers
// ======================================================

.goal-list-item {
  $b: &;

  &--completed {

    #{$b}__indicator {
      .progress-bar__status {
        margin-left: 0;
      }
    }
  }

  .progress-bar {

    &--empty {

    }
  }
}

// ======================================================
// Hovers
// ======================================================

.goal-list-item {
  $b: &;

  &:hover {

    #{$b}__title {
      color: $blue-100;
      transition: color .15s ease;
    }

    .progress-bar {
      bottom: 5px;
      transition: .2s .2s ease;

      & > * {
        opacity: 1;
        transition: .2s .2s ease;
      }
    }

    #{$b}__label {
      transform: translateY(-26px);
      transition: .2s .2s ease;
    }
  }
}
